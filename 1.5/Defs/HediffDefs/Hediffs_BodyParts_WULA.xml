<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <!-- 能源炉 -->
  <ThingDef ParentName="BodyPartProstheticImperialBase">
    <defName>WULA_Energy_Furnace_Base</defName>
    <label>中央能源炉（基础）</label>
    <description>机械乌拉的核心部件之一，负责提供永不衰竭的澎湃机械动力，并代替各种内脏执行内循环的任务。</description>
    <!-- <descriptionHyperlinks><RecipeDef>InstallFieldHand</RecipeDef></descriptionHyperlinks> -->
    <!-- <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags> -->
    <graphicData>
      <texPath>Things/Item/Health/HealthItem</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <costList>
      <Steel>40</Steel>
      <ComponentIndustrial>2</ComponentIndustrial>
    </costList>
    <recipeMaker>
      <researchPrerequisite>WULA_Base_Technology</researchPrerequisite>
      <recipeUsers>
        <li>WULA_Cube_Productor_BIO</li>
        <li>WULA_Cube_Productor_Energy</li>
      </recipeUsers>
    </recipeMaker>
    <!-- <techHediffsTags>
      <li>FieldHand</li>
    </techHediffsTags> -->
  </ThingDef>

  <!-- 天线 -->
  <ThingDef ParentName="BodyPartProstheticImperialBase">
    <defName>WULA_Addons_Antenna_Base</defName>
    <label>上行链路天线（基础）</label>
    <description>机械乌拉的核心部件之一，除了接收来自乌拉帝国人工智能网络“演算圆环”的信号外，还能兼职控制其他低级机械体。</description>
    <!-- <descriptionHyperlinks><RecipeDef>InstallFieldHand</RecipeDef></descriptionHyperlinks> -->
    <!-- <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags> -->
    <graphicData>
      <texPath>Things/Item/Health/HealthItem</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <costList>
      <Steel>30</Steel>
      <ComponentIndustrial>2</ComponentIndustrial>
    </costList>
    <recipeMaker>
      <researchPrerequisite>WULA_Base_Technology</researchPrerequisite>
      <recipeUsers>
        <li>WULA_Cube_Productor_BIO</li>
        <li>WULA_Cube_Productor_Energy</li>
      </recipeUsers>
    </recipeMaker>
    <!-- <techHediffsTags>
      <li>FieldHand</li>
    </techHediffsTags> -->
  </ThingDef>
  <HediffDef ParentName="ImplantHediffBase">
    <defName>WULA_Addons_Antenna_Hediff_Base</defName>
    <hediffClass>Hediff_Mechlink</hediffClass>
    <label>基础上线链路天线</label>
    <description>一对安装于乌拉帝国合成人脑袋两侧的天线，除了接收来自乌拉帝国人工智能网络“演算圆环”的信号外，还能兼职控制其他低级机械体。</description>
    <descriptionShort>一对安装于乌拉帝国合成人脑袋两侧的天线。</descriptionShort>
    <isBad>false</isBad>
    <duplicationAllowed>false</duplicationAllowed>
    <keepOnBodyPartRestoration>true</keepOnBodyPartRestoration>
    <stages>
      <li>
        <statOffsets>
          <MechBandwidth>-4</MechBandwidth>
          <MechControlGroups>-1</MechControlGroups>
        </statOffsets>
      </li>
    </stages>
    <defaultInstallPart>WULA_Addons_Antenna_Bodypart</defaultInstallPart>
    <spawnThingOnRemoved>WULA_Addons_Antenna_Base</spawnThingOnRemoved>
  </HediffDef>
  <ThingDef ParentName="BodyPartProstheticImperialBase">
    <defName>WULA_Addons_Antenna_Expansion</defName>
    <label>上行链路天线（扩容）</label>
    <description>上行链路天线的高级版，支持更多的机械体带宽，以指挥更庞大的钢铁洪流。</description>
    <!-- <descriptionHyperlinks><RecipeDef>InstallFieldHand</RecipeDef></descriptionHyperlinks> -->
    <!-- <thingSetMakerTags><li>RewardStandardLowFreq</li></thingSetMakerTags> -->
    <graphicData>
      <texPath>Things/Item/Health/HealthItem</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <costList>
      <Steel>50</Steel>
      <ComponentIndustrial>6</ComponentIndustrial>
    </costList>
    <recipeMaker>
      <researchPrerequisite>WULA_Base_Technology</researchPrerequisite>
      <recipeUsers>
        <li>WULA_Cube_Productor_BIO</li>
        <li>WULA_Cube_Productor_Energy</li>
      </recipeUsers>
    </recipeMaker>
    <!-- <techHediffsTags>
      <li>FieldHand</li>
    </techHediffsTags> -->
  </ThingDef>
  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>WULA_Install_Addons_Antenna_Hediff_Base</defName>
    <label>替换上线链路天线（扩容）</label>
    <description>使用一副扩容上线链路天线替换该合成人的现有天线</description>
    <jobString>正在替换上线链路天线</jobString>
    <appliedOnFixedBodyParts>
      <li>WULA_Addons_Antenna_Bodypart</li>
    </appliedOnFixedBodyParts>
    <uiIconThing>Steel</uiIconThing>
    <anesthetize>false</anesthetize>
    <surgeryOutcomeEffect IsNull="True" /> <!-- Always succeeds -->
    <addsHediff>WULA_Addons_Antenna_Hediff_Expansion</addsHediff>
    
    <workAmount>1500</workAmount>
    <skillRequirements>
      <Medicine>3</Medicine>
    </skillRequirements>
    <workSkill>Medicine</workSkill>
    <effectWorking>Smith</effectWorking>
    <soundWorking>Recipe_Smith</soundWorking>
    <workSpeedStat>MedicalOperationSpeed</workSpeedStat>
    <!-- <researchPrerequisites>
      <li>WULA_Base_Technology</li>
    </researchPrerequisites> -->

    <ingredients Inherit="False">
      <li>
        <filter>
          <thingDefs>
            <li>WULA_Addons_Antenna_Expansion</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>WULA_Addons_Antenna_Expansion</li>
      </thingDefs>
    </fixedIngredientFilter>
  </RecipeDef>
  <HediffDef ParentName="ImplantHediffBase">
    <defName>WULA_Addons_Antenna_Hediff_Expansion</defName>
    <hediffClass>Hediff_Mechlink</hediffClass>
    <label>扩容上线链路天线</label>
    <description>一对安装于乌拉帝国合成人脑袋两侧的天线，除了接收来自乌拉帝国人工智能网络“演算圆环”的信号外，还能兼职控制其他低级机械体。</description>
    <descriptionShort>一对安装于乌拉帝国合成人脑袋两侧的天线。</descriptionShort>
    <isBad>false</isBad>
    <duplicationAllowed>false</duplicationAllowed>
    <keepOnBodyPartRestoration>true</keepOnBodyPartRestoration>
    <stages>
      <!-- <li>
        <statOffsets>
          <MechBandwidth>-4</MechBandwidth>
          <MechControlGroups>-1</MechControlGroups>
        </statOffsets>
      </li> -->
    </stages>
    <defaultInstallPart>WULA_Addons_Antenna_Bodypart</defaultInstallPart>
    <spawnThingOnRemoved>WULA_Addons_Antenna_Expansion</spawnThingOnRemoved>
  </HediffDef>

  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>WULA_Fix_Hand_Base</defName>
    <label>修复手部</label>
    <description>将这个合成人的手部破损修复，并恢复该部位生命值。</description>
    <jobString>正在修复手部</jobString>
    <appliedOnFixedBodyParts>
      <li>Hand</li>
    </appliedOnFixedBodyParts>
    <uiIconThing>Steel</uiIconThing>
    <anesthetize>false</anesthetize>
    <surgeryOutcomeEffect IsNull="True" /> <!-- Always succeeds -->
    <addsHediff>WULA_Body_Fixed</addsHediff>
    
    <workAmount>1500</workAmount>
    <skillRequirements>
      <Medicine>3</Medicine>
    </skillRequirements>
    <workSkill>Medicine</workSkill>
    <effectWorking>Smith</effectWorking>
    <soundWorking>Recipe_Smith</soundWorking>
    <workSpeedStat>MedicalOperationSpeed</workSpeedStat>
    <researchPrerequisites>
      <li>WULA_Base_Technology</li>
    </researchPrerequisites>

    <ingredients Inherit="False">
      <li>
        <filter>
          <thingDefs>
            <li>Steel</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
  </RecipeDef>
  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>WULA_Fix_Arm_Base</defName>
    <label>修复臂膀</label>
    <description>将这个合成人的手部、手臂和肩部的破损修复，并恢复该部位生命值。比起修复单个部位花费，时间、资源需求和技能等级要求更高。</description>
    <jobString>正在修复手部</jobString>
    <appliedOnFixedBodyParts>
      <li>Shoulder</li>
    </appliedOnFixedBodyParts>
    <uiIconThing>Steel</uiIconThing>
    <anesthetize>false</anesthetize>
    <surgeryOutcomeEffect IsNull="True" /> <!-- Always succeeds -->
    <addsHediff>WULA_Body_Fixed</addsHediff>
    
    <workAmount>3000</workAmount>
    <skillRequirements>
      <Medicine>7</Medicine>
    </skillRequirements>
    <workSkill>Medicine</workSkill>
    <effectWorking>Smith</effectWorking>
    <soundWorking>Recipe_Smith</soundWorking>
    <workSpeedStat>MedicalOperationSpeed</workSpeedStat>
    <researchPrerequisites>
      <li>WULA_Repair_Arm_Technology</li>
    </researchPrerequisites>

    <ingredients Inherit="False">
      <li>
        <filter>
          <thingDefs>
            <li>Steel</li>
          </thingDefs>
        </filter>
        <count>20</count>
      </li>
    </ingredients>
  </RecipeDef>
  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>WULA_Fix_Leg_Base</defName>
    <label>修复腿部</label>
    <description>将这个合成人的腿部和足部破损修复，并恢复这些部位的生命值。比起修复单个部位花费，时间、资源需求和技能等级要求更高。</description>
    <jobString>正在修复腿部</jobString>
    <appliedOnFixedBodyParts>
      <li>Leg</li>
    </appliedOnFixedBodyParts>
    <uiIconThing>Steel</uiIconThing>
    <anesthetize>false</anesthetize>
    <surgeryOutcomeEffect IsNull="True" /> <!-- Always succeeds -->
    <addsHediff>WULA_Body_Fixed</addsHediff>
    
    <workAmount>3000</workAmount>
    <skillRequirements>
      <Medicine>7</Medicine>
    </skillRequirements>
    <workSkill>Medicine</workSkill>
    <effectWorking>Smith</effectWorking>
    <soundWorking>Recipe_Smith</soundWorking>
    <workSpeedStat>MedicalOperationSpeed</workSpeedStat>
    <researchPrerequisites>
      <li>WULA_Repair_Arm_Technology</li>
    </researchPrerequisites>

    <ingredients Inherit="False">
      <li>
        <filter>
          <thingDefs>
            <li>Steel</li>
          </thingDefs>
        </filter>
        <count>20</count>
      </li>
    </ingredients>
  </RecipeDef>
  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>WULA_Fix_Foot_Base</defName>
    <label>修复足部</label>
    <description>将这个合成人的足部破损修复，并恢复这些部位的生命值。</description>
    <jobString>正在修复足部</jobString>
    <appliedOnFixedBodyParts>
      <li>Foot</li>
    </appliedOnFixedBodyParts>
    <uiIconThing>Steel</uiIconThing>
    <anesthetize>false</anesthetize>
    <surgeryOutcomeEffect IsNull="True" /> <!-- Always succeeds -->
    <addsHediff>WULA_Body_Fixed</addsHediff>
    
    <workAmount>1500</workAmount>
    <skillRequirements>
      <Medicine>3</Medicine>
    </skillRequirements>
    <workSkill>Medicine</workSkill>
    <effectWorking>Smith</effectWorking>
    <soundWorking>Recipe_Smith</soundWorking>
    <workSpeedStat>MedicalOperationSpeed</workSpeedStat>
    <researchPrerequisites>
      <li>WULA_Base_Technology</li>
    </researchPrerequisites>

    <ingredients Inherit="False">
      <li>
        <filter>
          <thingDefs>
            <li>Steel</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
  </RecipeDef>
  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>WULA_Fix_Head_Base</defName>
    <label>修复头部</label>
    <description>将这个合成人的头部和颈部的破损修复，并恢复这些部位的生命值。</description>
    <jobString>正在修复头部</jobString>
    <appliedOnFixedBodyParts>
      <li>Neck</li>
    </appliedOnFixedBodyParts>
    <uiIconThing>Steel</uiIconThing>
    <anesthetize>false</anesthetize>
    <surgeryOutcomeEffect IsNull="True" /> <!-- Always succeeds -->
    <addsHediff>WULA_Body_Fixed</addsHediff>
    
    <workAmount>1500</workAmount>
    <skillRequirements>
      <Medicine>3</Medicine>
    </skillRequirements>
    <workSkill>Medicine</workSkill>
    <effectWorking>Smith</effectWorking>
    <soundWorking>Recipe_Smith</soundWorking>
    <workSpeedStat>MedicalOperationSpeed</workSpeedStat>
    <researchPrerequisites>
      <li>WULA_Repair_Arm_Technology</li>
    </researchPrerequisites>

    <ingredients Inherit="False">
      <li>
        <filter>
          <thingDefs>
            <li>Steel</li>
          </thingDefs>
        </filter>
        <count>20</count>
      </li>
      <li>
        <filter>
          <thingDefs>
            <li>ComponentIndustrial</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
  </RecipeDef>
  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>WULA_Fix_Torso_Base</defName>
    <label>修复全身</label>
    <description>此项修复将修复这个合成人全身损伤，并恢复所有部位生命值。比起修复单个部位花费，时间、资源需求和技能等级要求更高。</description>
    <jobString>正在修复躯干</jobString>
    <appliedOnFixedBodyParts>
      <li>Torso</li>
    </appliedOnFixedBodyParts>
    <uiIconThing>Steel</uiIconThing>
    <anesthetize>false</anesthetize>
    <surgeryOutcomeEffect IsNull="True"/> <!-- Always succeeds -->
    <addsHediff>WULA_Body_Fixed</addsHediff>
    
    <workAmount>7000</workAmount>
    <researchPrerequisites>
      <li>WULA_Repair_All_Technology</li>
    </researchPrerequisites>
    <skillRequirements>
      <Medicine>10</Medicine>
    </skillRequirements>
    <workSkill>Medicine</workSkill>
    <effectWorking>Smith</effectWorking>
    <soundWorking>Recipe_Smith</soundWorking>
    <workSpeedStat>MedicalOperationSpeed</workSpeedStat>

    <ingredients Inherit="False">
      <li>
        <filter>
          <thingDefs>
            <li>Steel</li>
          </thingDefs>
        </filter>
        <count>50</count>
      </li>
      <li>
        <filter>
          <thingDefs>
            <li>ComponentIndustrial</li>
          </thingDefs>
        </filter>
        <count>3</count>
      </li>
    </ingredients>
  </RecipeDef>
  <HediffDef ParentName="ImplantHediffBase">
    <defName>WULA_Body_Fixed</defName>
    <hediffClass>Hediff_Implant</hediffClass>
    <label>已修复</label>
    <description>这个合成人的破损已被细致地修复。</description>
    <descriptionShort>这个合成人的破损已被细致地修复。</descriptionShort>
    <isBad>false</isBad>
    <duplicationAllowed>true</duplicationAllowed>
    <keepOnBodyPartRestoration>false</keepOnBodyPartRestoration>  <!-- true -->
  </HediffDef>

  <ThingDef ParentName="ResourceBase">
    <defName>WULA_Soul_Wedge</defName>
    <label>魂楔</label>
    <description>一种通过特殊手段将生命体灵魂抽离封装得到的物品，是乌拉帝国灵能理论中“灵魂量化”的集中体现，可为各种乌拉帝国灵能法杖充能。</description>
    <graphicData>
      <texPath>Things/Item/Resource/Silver</texPath>
      <graphicClass>Graphic_StackCount</graphicClass>
    </graphicData>
    <resourceReadoutPriority>First</resourceReadoutPriority>
    <soundInteract>Silver_Drop</soundInteract>
    <soundDrop>Silver_Drop</soundDrop>
    <useHitPoints>false</useHitPoints>
    <healthAffectsPrice>false</healthAffectsPrice>
    <resourceReadoutAlwaysShow>true</resourceReadoutAlwaysShow>
    <statBases>
      <MarketValue>10</MarketValue>
      <Mass>0.001</Mass>
    </statBases>
    <stackLimit>500</stackLimit>
    <smallVolume>true</smallVolume>
    <deepCommonality>0.5</deepCommonality>
    <deepCountPerPortion>70</deepCountPerPortion>
    <deepLumpSizeRange>2~10</deepLumpSizeRange>
    <burnableByRecipe>false</burnableByRecipe>
    <smeltable>true</smeltable>
    <possessionCount>40</possessionCount>
    <stuffProps>
      <color>(180,173,150)</color>
      <commonality>0.05</commonality>
      <constructEffect>ConstructMetal</constructEffect>
      <soundImpactBullet>BulletImpact_Metal</soundImpactBullet>
      <soundMeleeHitSharp>MeleeHit_Metal_Sharp</soundMeleeHitSharp>
      <soundMeleeHitBlunt>MeleeHit_Metal_Blunt</soundMeleeHitBlunt>
      <soundImpactMelee>Pawn_Melee_Punch_HitBuilding_Metal</soundImpactMelee>
    </stuffProps>
  </ThingDef>
  <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
    <defName>WULA_Extract_Soul_Wedge</defName>
    <label>提取魂楔</label>
    <description>从该目标体内提取10枚魂楔以供乌拉帝国灵能法杖充能，提取魂楔很可能会杀死目标。</description>
    <jobString>正在提取魂楔</jobString>
    <workAmount>500</workAmount>
    <hideBodyPartNames>true</hideBodyPartNames>
    <targetsBodyPart>false</targetsBodyPart>
    <isViolation>true</isViolation>
    <descriptionHyperlinks>
      <ThingDef>WULA_Soul_Wedge</ThingDef>
    </descriptionHyperlinks>
    <uiIconThing>HemogenPack</uiIconThing>
    <anesthetize>false</anesthetize>
    <workSkillLearnFactor>2</workSkillLearnFactor>
    <products>
      <WULA_Soul_Wedge>10</WULA_Soul_Wedge>
    </products>
    <addsHediff>WULA_Extract_Soul_Wedge_Hediff</addsHediff>
  </RecipeDef>
  <HediffDef ParentName="ImplantHediffBase">
    <defName>WULA_Extract_Soul_Wedge_Hediff</defName>
    <hediffClass>Hediff_Implant</hediffClass>
    <label>灵魂抽离</label>
    <description>该生物的灵魂被人为的分离了。</description>
    <descriptionShort>该生物的灵魂被人为的分离了，现在这只是一具空躯壳。</descriptionShort>
    <initialSeverity>1</initialSeverity>
    <minSeverity>1</minSeverity>
    <alwaysShowSeverity>true</alwaysShowSeverity>
    <isBad>true</isBad>
    <duplicationAllowed>true</duplicationAllowed>
    <keepOnBodyPartRestoration>false</keepOnBodyPartRestoration>  <!-- true -->
    <stages>
      <li>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-2</offset>
          </li>
        </capMods>
      </li>
    </stages>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.2</severityPerDay>
      </li>
    </comps>
  </HediffDef>
</Defs>