<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <ThingDef ParentName="BaseMeleeWeapon_Blunt">
    <defName>WULA_MW_Mace</defName>
    <label>战壕狼牙棒</label>
    <description>这种细长的狼牙棒很适合在狭窄空间挥舞，也是乌拉帝国王权的象征——尽管在你手里这只是一根带刺的棍子。</description>
    <graphicData>
      <texPath>Wula/Weapon/WULA_MW_Mace</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>0.8</drawSize>
    </graphicData>
    <uiIconScale>1.1</uiIconScale>
    <techLevel>Medieval</techLevel>
    <weaponTags>
      <li>NeolithicMeleeBasic</li>
    </weaponTags>
    <weaponClasses>
      <li>Neolithic</li>
    </weaponClasses>
    <costStuffCount>40</costStuffCount>
    <statBases>
      <WorkToMake>500</WorkToMake>
      <Mass>2</Mass>
    </statBases>
    <costList>
      <Steel>10</Steel>
    </costList>
    <equippedAngleOffset>-65</equippedAngleOffset>
    <stuffCategories>
      <li>Metallic</li>
      <li>Woody</li>
      <li>Stony</li>
    </stuffCategories>
    <recipeMaker>
      <recipeUsers Inherit="False">
        <li>WULA_Cube_Productor_BIO</li>
        <li>WULA_Cube_Productor_Energy</li>
      </recipeUsers>
      <researchPrerequisite>WULA_Synth_Weapon_Technology</researchPrerequisite>
      <displayPriority>300</displayPriority>
    </recipeMaker>
    <tools>
      <li>
        <label>棍柄</label>
        <capacities>
          <li>Poke</li>
        </capacities>
        <power>9</power>
        <cooldownTime>1</cooldownTime>
        <chanceFactor>0.5</chanceFactor>
      </li>
      <li>
        <label>尖头</label>
        <labelUsedInLogging>false</labelUsedInLogging>
        <capacities>
          <li>Stab</li>
        </capacities>
        <power>18</power>
        <cooldownTime>1.25</cooldownTime>
      </li>
    </tools>
  </ThingDef>
  
  <!-- 动力破墙锤 -->
  <ThingDef ParentName="BaseMeleeWeapon_Blunt_Quality">
    <defName>WULA_MW_Breaker_Bar</defName>
    <label>PMb_97"定音槌"</label>
    <description>一种沉重的破墙设备，通常由装备外骨骼的乌拉帝国士兵携带，可以通过加压挥出势大力沉的一击，洞穿对手或墙体。</description>
    <graphicData>
      <texPath>Wula/Weapon/WULA_MW_Breaker_Bar</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <equippedAngleOffset>-65</equippedAngleOffset>
    <techLevel>Spacer</techLevel>
    <costStuffCount>50</costStuffCount>
    <statBases>
      <WorkToMake>3000</WorkToMake>
      <Mass>20</Mass>
    </statBases>
    <stuffCategories>
      <li>Metallic</li>
    </stuffCategories>
    <tools>
      <li>
        <label>加压槌头</label>
        <capacities>
          <li>Poke</li>
        </capacities>
        <power>65</power>
        <cooldownTime>4</cooldownTime>
        <armorPenetration>1</armorPenetration>
        <extraMeleeDamages>
          <li>
            <def>Stun</def>
            <amount>14</amount>
          </li>
        </extraMeleeDamages>
      </li>
    </tools>
    <recipeMaker>
      <recipeUsers Inherit="False">
        <li>WULA_Cube_Productor_Energy</li>
      </recipeUsers>
      <researchPrerequisite>WULA_Synth_Weapon_2_Melee_Technology</researchPrerequisite>
      <skillRequirements>
        <Crafting>7</Crafting>
      </skillRequirements>
      <displayPriority>450</displayPriority>
    </recipeMaker>
  </ThingDef>

  <!-- 法杖 -->
  <ThingDef ParentName="BaseMeleeWeapon_Blunt">
    <defName>WULA_MW_Scepter_Of_Heaven</defName>
    <label>APs_82"天之杖"</label>
    <description>乌拉帝国修女所持武器，可以使用魂锲作为弹药施展灵能法术，将任意人员折跃到地图上的任意地点。</description>
    <graphicData>
      <texPath>Wula/Weapon/WULA_MW_Scepter_Of_Heaven</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>1.3</drawSize>
    </graphicData>
    <uiIconScale>1.1</uiIconScale>
    <techLevel>Medieval</techLevel>
    <weaponTags>
      <li>NeolithicMeleeBasic</li>
    </weaponTags>
    <weaponClasses>
      <li>Neolithic</li>
    </weaponClasses>
    <statBases>
      <WorkToMake>1200</WorkToMake>
      <Mass>2</Mass>
    </statBases>
    <costList>
      <Steel>10</Steel>
    </costList>
    <equippedAngleOffset>-65</equippedAngleOffset>
    <recipeMaker>
      <recipeUsers Inherit="False">
        <li>WULA_Cube_Productor_Energy</li>
      </recipeUsers>
      <researchPrerequisite>WULA_Synth_Psi_Technology</researchPrerequisite>
    </recipeMaker>
    <tools>
      <li>
        <label>棍柄</label>
        <capacities>
          <li>Poke</li>
        </capacities>
        <power>9</power>
        <cooldownTime>1</cooldownTime>
        <chanceFactor>0.5</chanceFactor>
      </li>
    </tools>

    <comps Inherit="False">
      <li Class="CompProperties_EquippableAbilityReloadable">
        <abilityDef>WULA_Scepter_Of_Heaven_Ability</abilityDef>
        <maxCharges>1</maxCharges>
        <soundReload>AnomalyAbilityWarmup</soundReload>
        <chargeNoun>魂锲</chargeNoun>
        <ammoDef>Steel</ammoDef>
        <ammoCountPerCharge>1</ammoCountPerCharge>
        <baseReloadTicks>60</baseReloadTicks>
      </li>
    </comps>
  </ThingDef>
  <AbilityDef>
    <defName>WULA_Scepter_Of_Heaven_Ability</defName>
    <label>天之杖：折跃</label> <!-- non-player facing -->
    <iconPath>UI/Abilities/Farskip</iconPath>
    <category MayRequire="Ludeon.RimWorld.Royalty">Skip</category>
    <description>选择任意目标，然后选择地图内的一个位置将其传送过去，至多只能传送10体型大小的目标。</description> <!-- non-player facing -->
    <showPsycastEffects>false</showPsycastEffects>
    <!-- <cooldownTicksRange>180~480</cooldownTicksRange> -->
    <aiCanUse>true</aiCanUse>
    <showOnCharacterCard>false</showOnCharacterCard>
    <casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
    <verbProperties>
      <verbClass>Verb_EntitySkip</verbClass>
      <drawAimPie>false</drawAimPie>
      <warmupTime>0</warmupTime>
      <range>30</range>
      <ai_IsWeapon>false</ai_IsWeapon>
      <targetParams>
        <canTargetSelf>True</canTargetSelf>
      </targetParams>
    </verbProperties>
    <comps>
      <li Class="CompProperties_AbilityTeleport">
        <compClass>CompAbilityEffect_Teleport</compClass>
        <destination>Selected</destination>
        <requiresLineOfSight>false</requiresLineOfSight>
        <range>80</range>
        <clamorType>Ability</clamorType>
        <clamorRadius>10</clamorRadius>
        <destClamorType>Ability</destClamorType>
        <destClamorRadius>10</destClamorRadius>
        <maxBodySize>10</maxBodySize>
      </li>
    </comps>
  </AbilityDef>

  <!-- 乌拉帝国镇爆枪 -->
  <ThingDef ParentName="BaseHumanMakeableGun">
    <defName>WULA_RW_Fractal_AR</defName>
    <label>CLa_14"蓝锥"</label>
    <description>乌拉帝国镇暴部队使用的震爆武器之一，在发射前会照射目标并用微型处理器分析目标特征，随后经过编译的复合能量脉冲将以集束形式射出，瘫痪目标并点燃暴动者的身体，同时还不造成直击伤害。</description>
    <techLevel>Ultra</techLevel>
    <graphicData>
      <texPath>Wula/Weapon/WULA_RW_Fractal_AR</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>1.55</drawSize>
    </graphicData>
    <soundInteract>Interact_ChargeRifle</soundInteract>
    <weaponClasses>
      <li>LongShots</li>
      <li>RangedHeavy</li>
    </weaponClasses>
    <recipeMaker>
      <recipeUsers Inherit="False">
        <li>WULA_Cube_Productor_Energy</li>
      </recipeUsers>
      <researchPrerequisite>WULA_Synth_Weapon_2_Stun_Technology</researchPrerequisite>
      <skillRequirements>
        <Crafting>5</Crafting>
      </skillRequirements>
      <displayPriority>440</displayPriority>
    </recipeMaker>
    <thingSetMakerTags><li>RewardStandardQualitySuper</li></thingSetMakerTags>
    <statBases>
      <WorkToMake>45000</WorkToMake>
      <Mass>3.5</Mass>
      <AccuracyTouch>0.5</AccuracyTouch>
      <AccuracyShort>0.9</AccuracyShort>
      <AccuracyMedium>0.75</AccuracyMedium>
      <AccuracyLong>0.5</AccuracyLong>
      <RangedWeapon_Cooldown>1.65</RangedWeapon_Cooldown>
    </statBases>
    <costList>
      <Plasteel>75</Plasteel>
      <ComponentSpacer>4</ComponentSpacer>
    </costList>
    <verbs>
      <li>
        <verbClass>Verb_ShootBeam</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <warmupTime>0.5</warmupTime>
        <range>30</range>
        <minRange>0</minRange>
        <beamFullWidthRange>1</beamFullWidthRange>
        <burstShotCount>6</burstShotCount>
        <showBurstShotStats>false</showBurstShotStats>
        <beamWidth>3</beamWidth>
        <ticksBetweenBurstShots>6</ticksBetweenBurstShots>
        <beamDamageDef>Stun</beamDamageDef>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
        <soundCastBeam>BeamGraser_Shooting</soundCastBeam>
        <beamGroundFleckDef>Fleck_BeamBurn</beamGroundFleckDef>
        <beamFleckChancePerTick>0.32</beamFleckChancePerTick>
        <beamMaxDeviation>0.1</beamMaxDeviation>
        <beamCurvature>0</beamCurvature>
        <beamMoteDef>Mote_GraserBeamBase</beamMoteDef>
        <beamEndEffecterDef>GraserBeam_End</beamEndEffecterDef>
        <beamChanceToStartFire>0</beamChanceToStartFire>
        <beamChanceToAttachFire>1</beamChanceToAttachFire>
        <beamFireSizeRange>1</beamFireSizeRange>
        <beamLineFleckDef>Fleck_BeamSpark</beamLineFleckDef>
        <beamStartOffset>0.5</beamStartOffset>
        <beamLineFleckChanceCurve>
          <points>
            <li>(0, 0)</li><!--原版 (0, 0)-->
            <li>(0.2, 0.1)</li><!--原版 (0.65, 0.4)-->
            <li>(0.4, 0.2)</li><!--原版 (1, 0.75)-->
          </points>
        </beamLineFleckChanceCurve>
      </li>
    </verbs>
    <weaponTags>
      <li>MechanoidGunMedium</li>
      <li>SpacerGun</li>
    </weaponTags>
    <tools>
      <li>
        <label>grip</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
      <li>
        <label>barrel</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2</cooldownTime>
      </li>
    </tools>
  </ThingDef>

  <!-- 乌拉帝国霰弹枪 -->
  <ThingDef ParentName="BaseHumanMakeableGun">
    <defName>WULA_RW_StarDrift_SG</defName>
    <label>DCs_7"黑曜石"</label>
    <description>乌拉帝国配发的近距离霰弹枪，以威力巨大的梭镖破甲弹为核心，专注于在短距离上的快速反应战斗和持续性压制能力</description>
    <techLevel>Ultra</techLevel>
    <!-- <techLevel>Spacer</techLevel> -->
    <graphicData>
      <texPath>Wula/Weapon/WULA_RW_StarDrift_SG</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <soundInteract>Interact_ChargeRifle</soundInteract>
    <recipeMaker>
      <recipeUsers Inherit="False">
        <li>WULA_Cube_Productor_Energy</li>
      </recipeUsers>
      <researchPrerequisite>WULA_Synth_Weapon_2_Ranged_Technology</researchPrerequisite>
    </recipeMaker>
    <statBases>
      <WorkToMake>45000</WorkToMake>
      <Mass>3.5</Mass>
      <AccuracyTouch>1</AccuracyTouch>
      <AccuracyShort>0.9</AccuracyShort>
      <AccuracyMedium>0.5</AccuracyMedium>
      <AccuracyLong>0.25</AccuracyLong>
      <RangedWeapon_Cooldown>1</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>MechanoidGunShortRange</li>
      <li>SpacerGun</li>
    </weaponTags>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>WULA_Bullet_StarDrift_Shotgun_Spear</defaultProjectile>
        <warmupTime>0.2</warmupTime>
        <range>15</range>
        <burstShotCount>6</burstShotCount>
        <ticksBetweenBurstShots>3</ticksBetweenBurstShots>
        <soundCast>ChargeLance_Fire</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>7</muzzleFlashScale>
      </li>
    </verbs>
  </ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>WULA_Bullet_StarDrift_Shotgun_Spear</defName>
    <label>梭镖</label>
    <graphicData>
      <texPath>Wula/Projectile/WULA_Bullet_StarDrift_Shotgun_Spear</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <damageDef>Bullet</damageDef>
      <damageAmountBase>15</damageAmountBase>
      <stoppingPower>2.5</stoppingPower>
      <armorPenetrationBase>0.65</armorPenetrationBase>
      <speed>55</speed>
    </projectile>
  </ThingDef>

  <!-- 手持火炮 -->
  <ThingDef ParentName="BaseGun">
    <defName>WULA_RW_Handle_Cannon</defName>
    <label>KRc_7"熔岩"</label>
    <description>一般由乌拉帝国跳帮组或骑士军团携带的手持火炮，能够在锁定后连续发射三发炮弹，夷平敌人的复合型工事或舰船内壁，并给敌人送来最炽热的消亡。</description>
    <techLevel>Ultra</techLevel>
    <graphicData>
      <texPath>Wula/Weapon/WULA_RW_Handle_Cannon</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>1.35</drawSize>
    </graphicData>
    <tradeability>None</tradeability>
    <recipeMaker>
      <recipeUsers Inherit="False">
        <li>WULA_Cube_Productor_Energy</li>
      </recipeUsers>
      <researchPrerequisite>WULA_Synth_Weapon_3_Bomb_Technology</researchPrerequisite>
    </recipeMaker>
    <statBases>
      <MarketValue>1400</MarketValue>
      <Mass>10</Mass>
      <AccuracyTouch>0.6</AccuracyTouch>
      <AccuracyShort>0.6</AccuracyShort>
      <AccuracyMedium>0.6</AccuracyMedium>
      <AccuracyLong>0.4</AccuracyLong>
      <RangedWeapon_Cooldown>4.0</RangedWeapon_Cooldown>
    </statBases>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Bullet_WULA_RW_Handle_Cannon</defaultProjectile>
        <warmupTime>1.5</warmupTime>
        <range>22</range>
        <soundCast>Shot_HellsphereCannonGun</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
        <ai_AvoidFriendlyFireRadius>6</ai_AvoidFriendlyFireRadius>
        <ai_RangedAlawaysShootGroundBelowTarget>true</ai_RangedAlawaysShootGroundBelowTarget>
        <ai_ProjectileLaunchingIgnoresMeleeThreats>true</ai_ProjectileLaunchingIgnoresMeleeThreats>
        <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
        <ai_TargetHasRangedAttackScoreOffset>50</ai_TargetHasRangedAttackScoreOffset>
        <minRange>6</minRange>
        <targetParams>
          <canTargetLocations>true</canTargetLocations>
          <canTargetPawns>false</canTargetPawns>
        </targetParams>
        <aimingLineMote>Mote_HellsphereCannon_Aim</aimingLineMote>
        <aimingChargeMote>Mote_HellsphereCannon_Charge</aimingChargeMote>
        <aimingChargeMoteOffset>1.07</aimingChargeMoteOffset>
        <aimingLineMoteFixedLength>3.9</aimingLineMoteFixedLength>
        <aimingTargetMote>Mote_HellsphereCannon_Target</aimingTargetMote>
        <burstShotCount>3</burstShotCount>
        <beamTargetsGround>true</beamTargetsGround>
        <soundAiming>HellsphereCannon_Aiming</soundAiming>
        <canGoWild>false</canGoWild>
      </li>
    </verbs>
    <tools>
      <li>
        <label>barrel</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>9</power>
        <cooldownTime>2.6</cooldownTime>
      </li>
    </tools>
  </ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>Bullet_WULA_RW_Handle_Cannon</defName>
    <label>熔岩炮弹</label>
    <thingClass>Projectile_HellsphereCannon</thingClass>
    <graphicData>
      <texPath>Things/Projectile/HellsphereCannon</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>MoteGlow</shaderType>
      <drawSize>(1.5, 3)</drawSize>
    </graphicData>
    <projectile>
      <damageDef>Vaporize</damageDef>
      <speed>75</speed>
      <damageAmountBase>300</damageAmountBase>
      <explosionRadius>3.9</explosionRadius>
      <screenShakeFactor>1.5</screenShakeFactor>
    </projectile>
  </ThingDef>

  <!-- 机械体装备 -->
  <ThingDef ParentName="BaseGun">
    <defName>WULA_WM_Rocket_Pod</defName>
    <label>PRr_34"石英"</label>
    <description>由乌拉帝国的"萨克森"战车所装备的火箭发射器，可以发射密集的火箭覆盖可见范围内的敌人。</description>
    <techLevel>Ultra</techLevel>
    <graphicData>
      <texPath>Wula/Weapon/WULA_WM_Rocket_Pod</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>1.35</drawSize>
    </graphicData>
    <tradeability>None</tradeability>
    <statBases>
      <MarketValue>1400</MarketValue>
      <Mass>150</Mass>
      <AccuracyTouch>0.6</AccuracyTouch>
      <AccuracyShort>0.6</AccuracyShort>
      <AccuracyMedium>0.6</AccuracyMedium>
      <AccuracyLong>0.4</AccuracyLong>
      <RangedWeapon_Cooldown>4.0</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>Wula_AI_Heavy_Panzer_Rocket</li>
    </weaponTags>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <warmupTime>2.2</warmupTime>
        <minRange>4</minRange>
        <defaultProjectile>Bullet_WULA_WM_Rocket_Pod</defaultProjectile>
        <range>54</range>
        <ticksBetweenBurstShots>3</ticksBetweenBurstShots>
        <burstShotCount>32</burstShotCount>
        <forcedMissRadius>6.25</forcedMissRadius>
        <forcedMissEvenDispersal>true</forcedMissEvenDispersal>
        <targetParams>
          <canTargetPawns>false</canTargetPawns>
          <canTargetLocations>true</canTargetLocations>
          <canTargetBuildings>false</canTargetBuildings>
        </targetParams>
        <soundCast>RocketswarmLauncher_Fire</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>14</muzzleFlashScale>
      </li>
    </verbs>
  </ThingDef>
  <ThingDef>
    <defName>Bullet_WULA_WM_Rocket_Pod</defName>
    <label>石英非制导火箭</label>
    <thingClass>Projectile_Explosive</thingClass>
    <category>Projectile</category>
    <tickerType>Normal</tickerType>
    <altitudeLayer>Projectile</altitudeLayer>
    <useHitPoints>False</useHitPoints>
    <neverMultiSelect>True</neverMultiSelect>
    <graphicData>
      <texPath>Things/Projectile/Rocket_Swarm</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>1.2</drawSize>
    </graphicData>
    <projectile>
      <damageDef>Bomb</damageDef>
      <explosionRadius>3.5</explosionRadius>
      <speed>38</speed>
      <damageAmountBase>50</damageAmountBase>
      <arcHeightFactor>0.4</arcHeightFactor>
      <soundExplode>Explosion_Rocket</soundExplode>
    </projectile>
  </ThingDef>
</Defs>